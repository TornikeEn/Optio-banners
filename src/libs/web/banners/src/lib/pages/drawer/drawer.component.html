<div class="wrapper">
    <mat-sidenav-container class="sidenav-container">
      <mat-sidenav #snav mode="over" position="end" [opened]="drawerOpened" disableClose>
        <app-banner-form 
          [blobPath]="blobPath"
          [editMode]="editMode"
          [channels]="selectChannels$ | async"
          [zones]="selectZones$ | async"
          [labels]="selectLabels$ | async"
          [languages]="selectLanguages$ | async"
          [loading]="selectFormLoading$ | async"
          [bannerDetails]="selectBannerDetails$ | async"
          [removeBannerImageResponse]="selectRemoveBannerImageResponse$ | async"
          [saveBannerResponse]="selectSaveBannerResponse$ | async"
          [uploadBannerImageResponse]="selectUploadBannerImageResponse$ | async"
          (fileIdChanged)="fileIdChangedHandler($event)"
          (removeImageClick)="onRemoveImageClick()"
          (oldImageRemove)="onOldImageRemove($event)"
          (newImageUpload)="onNewImageUpload($event)"
          (saveBannerRequest)="onSaveBannerRequest($event)"
          (collapse)="snav.toggle(); onCollapse()"
        ></app-banner-form>
      </mat-sidenav>
      <mat-sidenav-content>
        <mat-toolbar color="primary">
          <h1>Banners List</h1>
          <div class="spacer"></div>
          <button *ngIf="!snav.opened" mat-raised-button (click)="snav.toggle(); onAddNewBanner()">Add New Banner</button>
        </mat-toolbar>
          <app-banners-list
            [blobPath]="blobPath"
            [displayedColumns]="displayedColumns"
            [pageSizeOptions]="pageSizeOptions"
            [pageSize]="pageSize"
            [pageIndex]="pageIndex"
            [filterParams]="filterParams"
            [bannersList]="bannersListSelector$ | async"
            [total]="totalSelector$ | async"
            [errorDetected]="errorDetectedSelector$ | async"
            [loading]="selectLoading$ | async"
            (openDrawer)="snav.toggle(); onOpenDrawer($event)"
            (filterParamsChange)="onfilterParamsChange($event)"
            (deleteClicked)="onDeleteClicked($event)"
          ></app-banners-list>
      </mat-sidenav-content>
    </mat-sidenav-container>
  </div>